var _VueDemiGlobal=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:this,VueDemi=function(n,e,u){if(n.install)return n;if(!e)return console.error("[vue-demi] no Vue instance found, please be sure to import `vue` before `vue-demi`."),n;if(e.version.slice(0,4)==="2.7."){let t=function(o,f){var i,v={},d={config:e.config,use:e.use.bind(e),mixin:e.mixin.bind(e),component:e.component.bind(e),provide:function(l,a){return v[l]=a,this},directive:function(l,a){return a?(e.directive(l,a),d):e.directive(l)},mount:function(l,a){return i||(i=new e(Object.assign({propsData:f},o,{provide:Object.assign(v,o.provide)})),i.$mount(l,a),i)},unmount:function(){i&&(i.$destroy(),i=void 0)}};return d};var b=t;for(var r in e)n[r]=e[r];n.isVue2=!0,n.isVue3=!1,n.install=function(){},n.Vue=e,n.Vue2=e,n.version=e.version,n.warn=e.util.warn,n.hasInjectionContext=function(){return!!n.getCurrentInstance()},n.createApp=t}else if(e.version.slice(0,2)==="2.")if(u){for(var r in u)n[r]=u[r];n.isVue2=!0,n.isVue3=!1,n.install=function(){},n.Vue=e,n.Vue2=e,n.version=e.version,n.hasInjectionContext=function(){return!!n.getCurrentInstance()}}else console.error("[vue-demi] no VueCompositionAPI instance found, please be sure to import `@vue/composition-api` before `vue-demi`.");else if(e.version.slice(0,2)==="3."){for(var r in e)n[r]=e[r];n.isVue2=!1,n.isVue3=!0,n.install=function(){},n.Vue=e,n.Vue2=void 0,n.version=e.version,n.set=function(t,o,f){return Array.isArray(t)?(t.length=Math.max(t.length,o),t.splice(o,1,f),f):(t[o]=f,f)},n.del=function(t,o){if(Array.isArray(t)){t.splice(o,1);return}delete t[o]}}else console.error("[vue-demi] Vue version "+e.version+" is unsupported.");return n}(_VueDemiGlobal.VueDemi=_VueDemiGlobal.VueDemi||(typeof VueDemi<"u"?VueDemi:{}),_VueDemiGlobal.Vue||(typeof Vue<"u"?Vue:void 0),_VueDemiGlobal.VueCompositionAPI||(typeof VueCompositionAPI<"u"?VueCompositionAPI:void 0));(function(n,e,u,r){"use strict";const b=u.default||u;function t(o,f,i={}){const{validateOption:v={},immediate:d=!0,manual:l=!1}=i,a=e.toRef(o),c=r.shallowRef(null),p=r.ref(!0),h=r.ref(!d||l),A=r.computed(()=>{var s;return((s=c.value)==null?void 0:s.errors)||[]}),w=r.computed(()=>{var s;return((s=c.value)==null?void 0:s.fields)||{}}),I=r.computed(()=>new b(e.toValue(f))),g=async()=>{p.value=!1,h.value=!1;try{await I.value.validate(a.value,v),h.value=!0,c.value=null}catch(s){c.value=s}finally{p.value=!0}return{pass:h.value,errorInfo:c.value,errors:A.value,errorFields:w.value}};l||r.watch([a,I],()=>g(),{immediate:d,deep:!0});const x={isFinished:p,pass:h,errors:A,errorInfo:c,errorFields:w,execute:g};function C(){return new Promise((s,y)=>{e.until(p).toBe(!0).then(()=>s(x)).catch(j=>y(j))})}return{...x,then(s,y){return C().then(s,y)}}}n.useAsyncValidator=t})(this.VueUse=this.VueUse||{},VueUse,AsyncValidator,VueDemi);
