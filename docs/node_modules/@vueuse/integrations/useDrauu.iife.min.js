var _VueDemiGlobal=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:this,VueDemi=function(n,e,f){if(n.install)return n;if(!e)return console.error("[vue-demi] no Vue instance found, please be sure to import `vue` before `vue-demi`."),n;if(e.version.slice(0,4)==="2.7."){let t=function(s,i){var o,v={},p={config:e.config,use:e.use.bind(e),mixin:e.mixin.bind(e),component:e.component.bind(e),provide:function(u,c){return v[u]=c,this},directive:function(u,c){return c?(e.directive(u,c),p):e.directive(u)},mount:function(u,c){return o||(o=new e(Object.assign({propsData:i},s,{provide:Object.assign(v,s.provide)})),o.$mount(u,c),o)},unmount:function(){o&&(o.$destroy(),o=void 0)}};return p};var l=t;for(var a in e)n[a]=e[a];n.isVue2=!0,n.isVue3=!1,n.install=function(){},n.Vue=e,n.Vue2=e,n.version=e.version,n.warn=e.util.warn,n.hasInjectionContext=function(){return!!n.getCurrentInstance()},n.createApp=t}else if(e.version.slice(0,2)==="2.")if(f){for(var a in f)n[a]=f[a];n.isVue2=!0,n.isVue3=!1,n.install=function(){},n.Vue=e,n.Vue2=e,n.version=e.version,n.hasInjectionContext=function(){return!!n.getCurrentInstance()}}else console.error("[vue-demi] no VueCompositionAPI instance found, please be sure to import `@vue/composition-api` before `vue-demi`.");else if(e.version.slice(0,2)==="3."){for(var a in e)n[a]=e[a];n.isVue2=!1,n.isVue3=!0,n.install=function(){},n.Vue=e,n.Vue2=void 0,n.version=e.version,n.set=function(t,s,i){return Array.isArray(t)?(t.length=Math.max(t.length,s),t.splice(s,1,i),i):(t[s]=i,i)},n.del=function(t,s){if(Array.isArray(t)){t.splice(s,1);return}delete t[s]}}else console.error("[vue-demi] Vue version "+e.version+" is unsupported.");return n}(_VueDemiGlobal.VueDemi=_VueDemiGlobal.VueDemi||(typeof VueDemi<"u"?VueDemi:{}),_VueDemiGlobal.Vue||(typeof Vue<"u"?Vue:void 0),_VueDemiGlobal.VueCompositionAPI||(typeof VueCompositionAPI<"u"?VueCompositionAPI:void 0));(function(n,e,f,a,l){"use strict";function t(s,i){const o=l.ref();let v=[];const p=e.createEventHook(),u=e.createEventHook(),c=e.createEventHook(),b=e.createEventHook(),g=e.createEventHook(),y=l.ref(!1),E=l.ref(!1),k=l.ref(!1),S=l.ref(!1),h=l.ref({color:"black",size:3,arrowEnd:!1,cornerRadius:0,dasharray:void 0,fill:"transparent",mode:"draw",...i?.brush});l.watch(h,()=>{const r=o.value;r&&(r.brush=h.value,r.mode=h.value.mode)},{deep:!0});const _=()=>{var r;return(r=o.value)==null?void 0:r.undo()},w=()=>{var r;return(r=o.value)==null?void 0:r.redo()},A=()=>{var r;return(r=o.value)==null?void 0:r.clear()},I=()=>{var r;return(r=o.value)==null?void 0:r.cancel()},P=r=>{var d;return(d=o.value)==null?void 0:d.load(r)},U=()=>{var r;return(r=o.value)==null?void 0:r.dump()},C=()=>{var r;v.forEach(d=>d()),(r=o.value)==null||r.unmount()},H=()=>{o.value&&(y.value=o.value.canUndo(),E.value=o.value.canRedo(),k.value=o.value.altPressed,S.value=o.value.shiftPressed)};return l.watch(()=>e.unrefElement(s),r=>{!r||typeof SVGSVGElement>"u"||!(r instanceof SVGSVGElement)||(o.value&&C(),o.value=a.createDrauu({el:r,...i}),H(),v=[o.value.on("canceled",()=>u.trigger()),o.value.on("committed",d=>c.trigger(d)),o.value.on("start",()=>b.trigger()),o.value.on("end",()=>g.trigger()),o.value.on("changed",()=>{H(),p.trigger()})])},{flush:"post"}),f.tryOnScopeDispose(()=>C()),{drauuInstance:o,load:P,dump:U,clear:A,cancel:I,undo:_,redo:w,canUndo:y,canRedo:E,brush:h,onChanged:p.on,onCommitted:c.on,onStart:b.on,onEnd:g.on,onCanceled:u.on}}n.useDrauu=t})(this.VueUse=this.VueUse||{},VueUse,VueUse,Drauu,VueDemi);
